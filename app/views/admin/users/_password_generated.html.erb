<div class="bg-green-50 border border-green-200 rounded-lg p-6">
  <div class="flex items-center">
    <div class="flex-shrink-0">
      <svg class="h-8 w-8 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
    </div>
    <div class="ml-4 flex-1">
      <h3 class="text-lg font-medium text-green-800">
        管理員帳戶建立成功！
      </h3>
      <div class="mt-2 text-sm text-green-700">
        <p>請將以下登入資訊提供給 <strong><%= user.full_name %></strong>：</p>
      </div>
    </div>
  </div>

  <div class="mt-4 bg-white border border-green-200 rounded-md p-4">
    <div class="grid grid-cols-1 gap-4">
      <div>
        <label class="block text-sm font-medium text-gray-700">電子郵件</label>
        <div class="mt-1 flex items-center">
          <input type="text" 
                 value="<%= user.email %>" 
                 readonly 
                 class="flex-1 block w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm">
          <button type="button" 
                  onclick="copyToClipboard('<%= user.email %>')"
                  class="ml-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
            </svg>
          </button>
        </div>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700">臨時密碼</label>
        <div class="mt-1 flex items-center">
          <input type="text" 
                 value="<%= password %>" 
                 readonly 
                 class="flex-1 block w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm font-mono">
          <button type="button" 
                  onclick="copyToClipboard('<%= password %>')"
                  class="ml-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-4 bg-yellow-50 border border-yellow-200 rounded-md p-4">
    <div class="flex">
      <div class="flex-shrink-0">
        <svg class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
        </svg>
      </div>
      <div class="ml-3">
        <h3 class="text-sm font-medium text-yellow-800">
          重要提醒
        </h3>
        <div class="mt-2 text-sm text-yellow-700">
          <ul class="list-disc space-y-1 pl-5">
            <li>這是一次性顯示的臨時密碼，請立即複製並安全保存</li>
            <li>管理員首次登入時必須修改密碼</li>
            <li>登入網址：<%= link_to new_user_session_url, new_user_session_url, class: "underline" %></li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-6 flex justify-end space-x-3">
    <%= link_to "建立另一個管理員", new_admin_user_path, 
        class: "inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500" %>
    <%= link_to "返回管理員列表", admin_users_path, 
        class: "inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500" %>
  </div>
</div>

<script>
function copyToClipboard(text) {
  navigator.clipboard.writeText(text).then(function() {
    // 顯示複製成功的提示
    const event = new CustomEvent('show-toast', {
      detail: { message: '已複製到剪貼簿', type: 'success' }
    });
    window.dispatchEvent(event);
  }, function(err) {
    console.error('複製失敗: ', err);
  });
}
</script> 