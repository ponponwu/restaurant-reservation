# é¤å»³è¨‚ä½ç³»çµ± (Restaurant Reservation System)

ä¸€å€‹ä½¿ç”¨ Ruby on Rails 7 å’Œ Hotwire æŠ€è¡“å»ºæ§‹çš„ç¾ä»£åŒ–é¤å»³è¨‚ä½ç®¡ç†ç³»çµ±ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹è‰²

### æ ¸å¿ƒåŠŸèƒ½

-   **ç”¨æˆ¶ç®¡ç†**: æ”¯æ´ç®¡ç†å“¡ã€ç¶“ç†ã€å“¡å·¥ä¸‰ç¨®è§’è‰²
-   **é¤å»³ç®¡ç†**: å®Œæ•´çš„é¤å»³è³‡è¨Šå’Œè¨­å®šç®¡ç†
-   **æ¡Œä½ç®¡ç†**: éˆæ´»çš„æ¡Œä½ç¾¤çµ„å’Œæ¡Œä½é…ç½®
-   **è¨‚ä½ç®¡ç†**: å®Œæ•´çš„è¨‚ä½ç”Ÿå‘½é€±æœŸç®¡ç†
-   **ç‡Ÿæ¥­æ™‚æ®µ**: å½ˆæ€§çš„ç‡Ÿæ¥­æ™‚é–“è¨­å®š

### æŠ€è¡“ç‰¹è‰²

-   **ç¾ä»£åŒ–å‰ç«¯**: ä½¿ç”¨ Hotwire (Turbo + Stimulus) å¯¦ç¾ SPA é«”é©—
-   **å³æ™‚æ›´æ–°**: Turbo Streams æä¾›å³æ™‚ç‹€æ…‹åŒæ­¥
-   **éŸ¿æ‡‰å¼è¨­è¨ˆ**: Bootstrap 5 ç¢ºä¿è·¨è£ç½®ç›¸å®¹æ€§
-   **å®‰å…¨æ€§**: å®Œæ•´çš„èªè­‰æˆæ¬Šæ©Ÿåˆ¶
-   **æ¸¬è©¦è¦†è“‹**: é«˜å“è³ªçš„æ¸¬è©¦å¥—ä»¶

## ğŸ› ï¸ æŠ€è¡“æ£§

### å¾Œç«¯

-   **Ruby on Rails 7.1** - ä¸»è¦æ¡†æ¶
-   **PostgreSQL** - è³‡æ–™åº«
-   **Devise** - ç”¨æˆ¶èªè­‰
-   **CanCanCan** - æ¬Šé™ç®¡ç†
-   **Sidekiq** - èƒŒæ™¯ä»»å‹™è™•ç†

### å‰ç«¯

-   **Hotwire** - Turbo + Stimulus
-   **Bootstrap 5** - UI æ¡†æ¶
-   **esbuild** - JavaScript å»ºæ§‹å·¥å…·

### é–‹ç™¼å·¥å…·

-   **RSpec** - æ¸¬è©¦æ¡†æ¶
-   **FactoryBot** - æ¸¬è©¦è³‡æ–™å·¥å» 
-   **Capybara** - æ•´åˆæ¸¬è©¦
-   **RuboCop** - ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥

## ğŸ“‹ ç³»çµ±éœ€æ±‚

-   Ruby 2.7.7+
-   Rails 7.1+
-   PostgreSQL 12+
-   Node.js 16+ (ç”¨æ–¼å‰ç«¯è³‡æºå»ºæ§‹)

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. è¤‡è£½å°ˆæ¡ˆ

```bash
git clone <repository-url>
cd restaurant-reservation
```

### 2. å®‰è£ä¾è³´

```bash
# å®‰è£ Ruby gems
bundle install

# å®‰è£ Node.js å¥—ä»¶
npm install
```

### 3. è¨­å®šè³‡æ–™åº«

```bash
# å»ºç«‹è³‡æ–™åº«
rails db:create

# åŸ·è¡Œé·ç§»
rails db:migrate

# è¼‰å…¥ç¨®å­è³‡æ–™
rails db:seed
```

### 4. å•Ÿå‹•æœå‹™

```bash
# å•Ÿå‹• Rails ä¼ºæœå™¨
rails server

# åœ¨å¦ä¸€å€‹çµ‚ç«¯å•Ÿå‹• Sidekiq (èƒŒæ™¯ä»»å‹™)
bundle exec sidekiq
```

### 5. è¨ªå•æ‡‰ç”¨

é–‹å•Ÿç€è¦½å™¨è¨ªå• `http://localhost:3000`

## ğŸ‘¥ é è¨­å¸³è™Ÿ

ç³»çµ±é è¨­å»ºç«‹äº†ä»¥ä¸‹æ¸¬è©¦å¸³è™Ÿï¼š

| è§’è‰²   | é›»å­éƒµä»¶               | å¯†ç¢¼        |
| ------ | ---------------------- | ----------- |
| ç®¡ç†å“¡ | admin@restaurant.com   | password123 |
| ç¶“ç†   | manager@restaurant.com | password123 |
| å“¡å·¥   | staff@restaurant.com   | password123 |

## ğŸ“Š è³‡æ–™åº«æ¶æ§‹

ç³»çµ±åŒ…å«ä»¥ä¸‹ä¸»è¦å¯¦é«”ï¼š

-   **User** - ç”¨æˆ¶ç®¡ç†
-   **Restaurant** - é¤å»³è³‡è¨Š
-   **TableGroup** - æ¡Œä½ç¾¤çµ„
-   **Table** - æ¡Œä½ç®¡ç†
-   **BusinessPeriod** - ç‡Ÿæ¥­æ™‚æ®µ
-   **Reservation** - è¨‚ä½è¨˜éŒ„

è©³ç´°çš„è³‡æ–™åº«é—œè¯åœ–è«‹åƒè€ƒ [docs/database_schema.md](docs/database_schema.md)

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

ç³»çµ±æ¡ç”¨åˆ†å±¤æ¶æ§‹è¨­è¨ˆï¼š

-   **å‰ç«¯å±¤**: Hotwire + Tailwind
-   **æ§åˆ¶å™¨å±¤**: Rails Controllers
-   **æœå‹™å±¤**: æ¥­å‹™é‚è¼¯å°è£
-   **æ¨¡å‹å±¤**: ActiveRecord Models
-   **è³‡æ–™åº«å±¤**: PostgreSQL

è©³ç´°çš„ç³»çµ±æ¶æ§‹è«‹åƒè€ƒ [docs/system_architecture.md](docs/system_architecture.md)

## ğŸ§ª æ¸¬è©¦

### åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦

```bash
bundle exec rspec
```

### åŸ·è¡Œç‰¹å®šæ¸¬è©¦

```bash
# æ¨¡å‹æ¸¬è©¦
bundle exec rspec spec/models

# æ§åˆ¶å™¨æ¸¬è©¦
bundle exec rspec spec/controllers

# ç³»çµ±æ¸¬è©¦
bundle exec rspec spec/system
```

### æ¸¬è©¦è¦†è“‹ç‡

```bash
# ç”Ÿæˆè¦†è“‹ç‡å ±å‘Š
COVERAGE=true bundle exec rspec
```

## ğŸ“ é–‹ç™¼è¦ç¯„

æœ¬å°ˆæ¡ˆéµå¾ªåš´æ ¼çš„é–‹ç™¼è¦ç¯„ï¼ŒåŒ…æ‹¬ï¼š

-   **æ¨¡å‹è¨­è¨ˆ**: 7 å€‹å€å¡Šçµæ§‹ï¼ˆé—œè¯ã€é©—è­‰ã€scopeã€æšèˆ‰ã€å›èª¿ã€å¯¦ä¾‹æ–¹æ³•ã€ç§æœ‰æ–¹æ³•ï¼‰
-   **æ§åˆ¶å™¨è¨­è¨ˆ**: æ¨™æº– RESTful è¨­è¨ˆæ¨¡å¼
-   **æœå‹™å±¤**: æ¥­å‹™é‚è¼¯å°è£å’ŒéŒ¯èª¤è™•ç†
-   **æ¸¬è©¦è¦æ±‚**: é«˜è¦†è“‹ç‡çš„å–®å…ƒæ¸¬è©¦å’Œæ•´åˆæ¸¬è©¦
-   **å®‰å…¨æ€§**: å®Œæ•´çš„è¼¸å…¥é©—è­‰å’Œæ¬Šé™æª¢æŸ¥

è©³ç´°çš„é–‹ç™¼è¦ç¯„è«‹åƒè€ƒå°ˆæ¡ˆå…§çš„è‡ªè¨‚æŒ‡ä»¤æ–‡ä»¶ã€‚

## ğŸ”§ é…ç½®

### ç’°å¢ƒè®Šæ•¸

å»ºç«‹ `.env` æª”æ¡ˆä¸¦è¨­å®šä»¥ä¸‹è®Šæ•¸ï¼š

```env
DATABASE_URL=postgresql://username:password@localhost/restaurant_reservation_development
REDIS_URL=redis://localhost:6379/0
SECRET_KEY_BASE=your_secret_key_base
```

### é¤å»³è¨­å®š

ç³»çµ±æ”¯æ´è±å¯Œçš„é¤å»³è¨­å®šé¸é …ï¼š

-   æ™‚å€è¨­å®š
-   è¨‚ä½æå‰å¤©æ•¸
-   è¨‚ä½æ™‚é•·
-   è‡ªå‹•åˆ†é…æ¡Œä½
-   é€šçŸ¥è¨­å®š
-   å–æ¶ˆæ”¿ç­–

## ğŸ“ˆ æ•ˆèƒ½å„ªåŒ–

-   **è³‡æ–™åº«ç´¢å¼•**: é‡å°å¸¸ç”¨æŸ¥è©¢å»ºç«‹é©ç•¶ç´¢å¼•
-   **æŸ¥è©¢å„ªåŒ–**: ä½¿ç”¨ `includes` é¿å… N+1 æŸ¥è©¢
-   **å¿«å–ç­–ç•¥**: é é¢ç‰‡æ®µå¿«å–å’ŒæŸ¥è©¢çµæœå¿«å–
-   **å‰ç«¯å„ªåŒ–**: è³‡æºå£“ç¸®å’Œæ‡¶è¼‰å…¥

## ğŸ”’ å®‰å…¨æ€§

-   **èªè­‰**: Devise æä¾›å®‰å…¨çš„ç”¨æˆ¶èªè­‰
-   **æˆæ¬Š**: CanCanCan å¯¦ç¾ç´°ç²’åº¦æ¬Šé™æ§åˆ¶
-   **è¼¸å…¥é©—è­‰**: æ‰€æœ‰ç”¨æˆ¶è¼¸å…¥éƒ½ç¶“éåš´æ ¼é©—è­‰
-   **SQL æ³¨å…¥é˜²è­·**: ActiveRecord æä¾›å…§å»ºä¿è­·
-   **XSS é˜²è­·**: Rails å…§å»º XSS ä¿è­·æ©Ÿåˆ¶

## ğŸš€ éƒ¨ç½²

### ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²

```bash
# è¨­å®šç”Ÿç”¢ç’°å¢ƒ
RAILS_ENV=production rails db:create db:migrate

# é ç·¨è­¯è³‡æº
RAILS_ENV=production rails assets:precompile

# å•Ÿå‹•æ‡‰ç”¨
RAILS_ENV=production rails server
```

### Docker éƒ¨ç½²

```bash
# å»ºæ§‹æ˜ åƒ
docker build -t restaurant-reservation .

# åŸ·è¡Œå®¹å™¨
docker run -p 3000:3000 restaurant-reservation
```

## ğŸ“š API æ–‡ä»¶

ç³»çµ±æä¾› RESTful API ä¾›å¤–éƒ¨æ•´åˆï¼š

-   `GET /api/reservations` - å–å¾—è¨‚ä½åˆ—è¡¨
-   `POST /api/reservations` - å»ºç«‹æ–°è¨‚ä½
-   `PUT /api/reservations/:id` - æ›´æ–°è¨‚ä½
-   `DELETE /api/reservations/:id` - å–æ¶ˆè¨‚ä½

è©³ç´°çš„ API æ–‡ä»¶è«‹åƒè€ƒ `/api/docs`

## ğŸ¤ è²¢ç»æŒ‡å—

1. Fork å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. é–‹å•Ÿ Pull Request

## ğŸ“„ æˆæ¬Šæ¢æ¬¾

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

## ğŸ“ æ”¯æ´

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹ï¼š

1. é–‹å•Ÿ GitHub Issue
2. è¯ç¹«é–‹ç™¼åœ˜éšŠ
3. æŸ¥çœ‹æ–‡ä»¶å’Œ FAQ

---

**é¤å»³è¨‚ä½ç³»çµ±** - è®“é¤å»³ç®¡ç†æ›´ç°¡å–®ã€æ›´é«˜æ•ˆï¼
